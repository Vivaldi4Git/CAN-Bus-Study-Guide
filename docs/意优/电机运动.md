# 意优电机状态转换
CIA402 协议定义了驱动器在不同控制和条件下状态切换的流程
![](../../attachments/Pasted%20image%2020241209090311.png)

简单来说，电机状态切换过程如下：
1. 上电后电机处于Switch On Disabled状态
2. 发送控制字使电机进入Ready to Switch On和Switched On状态
3. 最后发送使能命令进入Operation Enable状态

这个时候可以开始控制电机运动

# 控制字

通过控制字6040h控制电机的状态转换
![](../../attachments/Pasted%20image%2020241209092114.png)

# 状态字

通过状态字6041h查看实际状态
![](../../attachments/Pasted%20image%2020241209092133.png)
# 控制电机运动过程

## 轮廓位置模式

```
1. 电机使能过程：
   Shutdown(0x06) -> Switch On(0x07) -> Operation Enable(0x0F)

2. 位置模式配置：
   - 设置模式：0x6060 = 1 (位置模式)
   - 设置运动参数：
     * 加速度(0x6083)
     * 减速度(0x6084)
     * 速度(0x6081)
   - 设置目标位置(0x607A)

3. 触发运动：
   - 准备新位置(0x2F)
   - 开始运动(0x3F)

4. 监控状态：
   - 读取实际位置(0x6064)
   - 读取状态字(0x6041)
```